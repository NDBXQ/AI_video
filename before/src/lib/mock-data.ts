import {
  User,
  StoryboardScript,
  Scene,
  Image,
  Video,
  AudioConfig,
  EffectConfig,
  ApiToken,
  OperationLog,
  TokenUsageLog,
  PublicResource,
} from '@/types';

// 模拟用户数据
export const mockUsers: User[] = [
  {
    id: 'u001',
    username: 'admin',
    phone: '13800138000',
    email: 'admin@example.com',
    role: 'admin',
    status: 'normal',
    createdAt: '2024-01-01T00:00:00Z',
    lastLoginAt: new Date().toISOString(),
  },
  {
    id: 'u002',
    username: 'user1',
    phone: '13800138001',
    email: 'user1@example.com',
    role: 'user',
    status: 'normal',
    createdAt: '2024-02-15T00:00:00Z',
    lastLoginAt: new Date(Date.now() - 86400000).toISOString(),
  },
  {
    id: 'u003',
    username: 'user2',
    phone: '13800138002',
    email: 'user2@example.com',
    role: 'user',
    status: 'disabled',
    createdAt: '2024-03-01T00:00:00Z',
    lastLoginAt: new Date(Date.now() - 172800000).toISOString(),
  },
  {
    id: 'u004',
    username: 'creator01',
    phone: '13900139001',
    email: 'creator01@example.com',
    role: 'user',
    status: 'normal',
    createdAt: '2024-02-20T00:00:00Z',
    lastLoginAt: new Date(Date.now() - 3600000).toISOString(),
  },
  {
    id: 'u005',
    username: 'testuser',
    phone: '13900139002',
    email: 'test@example.com',
    role: 'user',
    status: 'normal',
    createdAt: '2024-03-10T00:00:00Z',
    lastLoginAt: new Date(Date.now() - 7200000).toISOString(),
  },
];

// 模拟图片数据
export const mockImages: Image[] = [
  {
    id: 'i001',
    url: 'https://images.unsplash.com/photo-1517457373958-b7bdd4587205?w=800',
    prompt: '繁华都市街道，人来人往',
    tags: ['城市', '街道', '人群'],
    scriptId: 's001',
    sceneId: 'sc001',
    createdAt: '2024-03-15T10:30:00Z',
    status: 'completed',
  },
  {
    id: 'i002',
    url: 'https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=800',
    prompt: '咖啡店门口，年轻男子等待',
    tags: ['人物', '咖啡店', '等待'],
    scriptId: 's001',
    sceneId: 'sc002',
    createdAt: '2024-03-15T10:35:00Z',
    status: 'completed',
  },
  {
    id: 'i003',
    url: 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=800',
    prompt: '年轻女性微笑走过来',
    tags: ['人物', '微笑', '走动'],
    scriptId: 's001',
    sceneId: 'sc003',
    createdAt: '2024-03-15T10:40:00Z',
    status: 'completed',
  },
  {
    id: 'i004',
    url: 'https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=800',
    prompt: '未来城市，飞车穿梭',
    tags: ['科幻', '未来', '城市'],
    scriptId: 's002',
    sceneId: 'sc006',
    createdAt: '2024-03-16T08:30:00Z',
    status: 'completed',
  },
  {
    id: 'i005',
    url: 'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800',
    prompt: '科学家在实验室研究',
    tags: ['科幻', '实验室', '研究'],
    scriptId: 's002',
    sceneId: 'sc007',
    createdAt: '2024-03-16T08:35:00Z',
    status: 'completed',
  },
];

// 模拟视频数据
export const mockVideos: Video[] = [
  {
    id: 'v001',
    title: '都市爱情故事完整版',
    scriptId: 's001',
    imageIds: ['i001', 'i002', 'i003', 'i001', 'i002'],
    audioConfig: {
      voice: '温柔女声',
      speed: 1.0,
      emotion: '温馨',
      bgm: '轻快钢琴曲',
    },
    effectConfig: {
      transition: '淡入淡出',
      subtitle: '中文字幕',
    },
    status: 'completed',
    createdAt: '2024-03-15T14:00:00Z',
    updatedAt: '2024-03-15T16:00:00Z',
  },
  {
    id: 'v002',
    title: '科幻短片草稿',
    scriptId: 's002',
    imageIds: ['i004', 'i005'],
    audioConfig: {
      voice: '沉稳男声',
      speed: 0.9,
      emotion: '紧张',
      bgm: '科幻电子乐',
    },
    effectConfig: {
      transition: '特效转场',
    },
    status: 'draft',
    createdAt: '2024-03-16T12:00:00Z',
    updatedAt: '2024-03-16T12:00:00Z',
  },
];

// 模拟API Token数据
export const mockApiTokens: ApiToken[] = [
  {
    id: 't001',
    token: 'sk_live_xxxxxxxxxxxx001',
    userId: 'u001',
    username: 'admin',
    permissions: ['*'],
    createdAt: '2024-01-01T00:00:00Z',
    expiresAt: '2024-12-31T23:59:59Z',
    status: 'active',
    lastUsedAt: new Date().toISOString(),
  },
  {
    id: 't002',
    token: 'sk_live_xxxxxxxxxxxx002',
    userId: 'u002',
    username: 'user1',
    permissions: ['content:read', 'content:create'],
    createdAt: '2024-02-15T00:00:00Z',
    expiresAt: '2024-04-15T00:00:00Z',
    status: 'active',
    lastUsedAt: new Date(Date.now() - 3600000).toISOString(),
  },
  {
    id: 't003',
    token: 'sk_live_xxxxxxxxxxxx003',
    userId: 'u004',
    username: 'creator01',
    permissions: ['content:*', 'video:create'],
    createdAt: '2024-02-20T00:00:00Z',
    expiresAt: '2024-03-20T00:00:00Z',
    status: 'expired',
    lastUsedAt: new Date(Date.now() - 864000000).toISOString(),
  },
  {
    id: 't004',
    token: 'sk_live_xxxxxxxxxxxx004',
    userId: 'u005',
    username: 'testuser',
    permissions: ['content:read'],
    createdAt: '2024-03-10T00:00:00Z',
    expiresAt: '2024-04-10T00:00:00Z',
    status: 'revoked',
    lastUsedAt: new Date(Date.now() - 432000000).toISOString(),
  },
];

// 模拟操作日志数据
export const mockOperationLogs: OperationLog[] = [
  {
    id: 'ol001',
    operator: 'admin',
    operatorId: 'u001',
    operationType: '新增用户',
    target: 'user1 (u002)',
    result: 'success',
    timestamp: '2024-02-15T10:00:00Z',
  },
  {
    id: 'ol002',
    operator: 'admin',
    operatorId: 'u001',
    operationType: '禁用用户',
    target: 'user2 (u003)',
    result: 'success',
    timestamp: '2024-03-01T14:00:00Z',
  },
  {
    id: 'ol003',
    operator: 'admin',
    operatorId: 'u001',
    operationType: '生成Token',
    target: 'user1 (u002)',
    result: 'success',
    timestamp: '2024-02-15T10:05:00Z',
  },
  {
    id: 'ol004',
    operator: 'admin',
    operatorId: 'u001',
    operationType: '失效Token',
    target: 'testuser (u005)',
    result: 'success',
    timestamp: '2024-03-05T09:00:00Z',
  },
  {
    id: 'ol005',
    operator: 'admin',
    operatorId: 'u001',
    operationType: '编辑用户',
    target: 'creator01 (u004)',
    result: 'success',
    timestamp: '2024-03-08T11:30:00Z',
  },
];

// 模拟Token使用日志数据
export const mockTokenUsageLogs: TokenUsageLog[] = [
  {
    id: 'tul001',
    tokenId: 't001',
    tokenMasked: 'sk_live_xxx...001',
    apiEndpoint: '/api/v1/content/create',
    result: 'success',
    ip: '192.168.1.100',
    timestamp: new Date().toISOString(),
  },
  {
    id: 'tul002',
    tokenId: 't002',
    tokenMasked: 'sk_live_xxx...002',
    apiEndpoint: '/api/v1/video/generate',
    result: 'success',
    ip: '192.168.1.101',
    timestamp: new Date(Date.now() - 3600000).toISOString(),
  },
  {
    id: 'tul003',
    tokenId: 't002',
    tokenMasked: 'sk_live_xxx...002',
    apiEndpoint: '/api/v1/content/query',
    result: 'failed',
    ip: '192.168.1.101',
    timestamp: new Date(Date.now() - 7200000).toISOString(),
  },
  {
    id: 'tul004',
    tokenId: 't003',
    tokenMasked: 'sk_live_xxx...003',
    apiEndpoint: '/api/v1/image/generate',
    result: 'error',
    ip: '192.168.1.102',
    timestamp: new Date(Date.now() - 864000000).toISOString(),
  },
];

// 数据获取工具函数
export const getMockData = {
  users: () => mockUsers,
  userById: (id: string) => mockUsers.find(u => u.id === id),
  images: () => mockImages,
  imageById: (id: string) => mockImages.find(i => i.id === id),
  imagesByScriptId: (scriptId: string) => mockImages.filter(i => i.scriptId === scriptId),
  videos: () => mockVideos,
  videoById: (id: string) => mockVideos.find(v => v.id === id),
  apiTokens: () => mockApiTokens,
  apiTokenById: (id: string) => mockApiTokens.find(t => t.id === id),
  operationLogs: () => mockOperationLogs,
  tokenUsageLogs: () => mockTokenUsageLogs,
};
